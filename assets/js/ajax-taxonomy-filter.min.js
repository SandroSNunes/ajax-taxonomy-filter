function preloadFilters(){jQuery.each(atxfVars.filtersHtml,function(t,a){jQuery("[data-atxf-taxonomy="+t+"]").html(a)})}function atxfReset(){jQuery(".atxf").val(""),jQuery(".atxf:eq(0)").trigger("change")}!function(t){var a,e=!1,n=!1,o={},i=!1,s=d();function l(r,x,h){if(r=r.replace("//","/"),x&&(i=!1,t(atxfVars.ajaxContentElement).prepend('<div id="atxf-modal-loading"></div>')),i)return!1;t(document).trigger("atxf-get"),n&&n.abort(),o={},t(".atxf").each(function(a,e){o[t(this).data("atxf-taxonomy")]={},o[t(this).data("atxf-taxonomy")].value=t(this).val(),o[t(this).data("atxf-taxonomy")].type=t(this).data("atxf-type")}),history.pushState&&void 0===h&&(!atxfVars.lazyLoading||x)&&history.pushState({url:r,atxf_query_vars:atxfVars.queryVars,filters_json:o},null,r),void 0!==h&&(!atxfVars.lazyLoading||x)&&(atxfVars.queryVars=h.atxf_query_vars,o=h.filters_json),n=t.ajax({type:"POST",url:r,dataType:"text",data:{action:"atxf_ajax_get_content",ajaxnonce:atxfVars.ajaxNonce,atxf_query_vars:atxfVars.queryVars,filters:o}}).done(function(n){var o=n.indexOf('{"html');if(o>-1)var r=t.parseJSON(n.substr(o));else var r=t.parseJSON(n);atxfVars.queryVars=r.atxf_query_vars;var h=t(r.html).find(atxfVars.ajaxContentElement);h.length>0?(x?(atxfVars.pagesLoaded=[0],t(atxfVars.ajaxContentElement).html(h.html())):t(atxfVars.ajaxContentElement).append(h.html()),s=d(),atxfVars.pagesLoaded.push(atxfVars.pagesLoaded[atxfVars.pagesLoaded.length-1]+1),a=atxfVars.pagesLoaded[atxfVars.pagesLoaded.length-1]+1):i=!0,t("[data-atxf-taxonomy]").each(function(a,e){t(this).data("atxf-taxonomy"),"or"==t(this).data("atxf-type")&&t(this).parent().hasClass("fs-open")&&t(this).addClass("noreload")}),e=!0,t(".atxf:not(.noreload)").fSelect("reload"),t(".atxf").removeClass("noreload"),e=!1,f();var p=t(r.html).find(".atxf-pagination");p.length>0&&t(".atxf-pagination").html(p.html()),t(".atxf-pagination a").click(function(a){a.preventDefault(),atxfVars.lazyLoading||t("html,body").animate({scrollTop:t(atxfVars.ajaxContentElement).offset().top-96},"slow"),l(t(this).attr("href"),!0)}),t(document).trigger("atxf-done")})}function r(){var a="",e=[],n="",n="";t("[data-atxf-taxonomy]").each(function(a,o){var i=t(this).data("atxf-taxonomy"),s=t(this).val(),l=t(this).data("atxf-type");if(-1===e.indexOf(i)&&(e.push(i),null!==s)){if("string"==typeof s)0!=s&&""!=s&&(n+=(n?"&":"")+i+"="+s);else{for(var r="",f=0;f<s.length;f++)0!=s[f]&&""!=s[f]&&(r+=(""!=r?"and"==l?"+":",":"")+s[f]);""!=r&&(n+=(n?"&":"")+i+"="+r)}}});var o=[],i=window.location.search.replace("?","").split("&");t.each(i,function(t,a){var n=a.split("=")[0];"page"!=n&&"paged"!=n&&-1===e.indexOf(n)&&o.push(a)}),o=o.join("&");var a=location.pathname;return -1!==a.indexOf("/page")&&(a=a.substr(0,a.indexOf("/page")+1)),""!==n&&(a+="?"+n),""!==o&&(a+=(""!==n?"&":"?")+o),a}function f(){t(".pagination, .woocommerce-pagination").addClass("atxf-pagination")}function d(){return!!t(atxfVars.ajaxContentElement).length&&t(atxfVars.ajaxContentElement).offset().top+t(atxfVars.ajaxContentElement).height()+parseInt(t(atxfVars.ajaxContentElement).css("padding-top"))+parseInt(t(atxfVars.ajaxContentElement).css("border-top"))+parseInt(t(atxfVars.ajaxContentElement).css("margin-top"))}t(function(){t(atxfVars.ajaxContentElement).length&&(t(atxfVars.ajaxContentElement).css("position","relative"),f(),t(".atxf").each(function(a,e){var n=""!=t(this).data("atxf-placeholder")?t(this).data("atxf-placeholder"):"Select some options";t(this).fSelect({placeholder:n,numDisplayed:3,overflowText:"{n} selected",noResultsText:"No results found",searchText:"Search",showSearch:!1})}),t(".atxf").change(function(t){if(t.preventDefault(),!e){var a=r();atxfVars.ajaxActive||(window.location=a),l(a,!0)}}),atxfVars.ajaxActive&&t(".atxf-pagination a").click(function(a){a.preventDefault(),atxfVars.lazyLoading||t("html,body").animate({scrollTop:t(atxfVars.ajaxContentElement).offset().top-96},"slow"),l(t(this).attr("href"))}),a=atxfVars.pagesLoaded[atxfVars.pagesLoaded.length-1]+1,t(window).scroll(function(){if(t(window).scrollTop()+t(window).height()>=s-300&&(!n||4==n.readyState&&200==n.status)){var e=r();l(e+(-1!==e.indexOf("?")?"&paged="+a:"/page/"+a))}}),t(window).resize(function(){s=d()}),o={},t(".atxf").each(function(a,e){o[t(this).data("atxf-taxonomy")]={},o[t(this).data("atxf-taxonomy")].value=t(this).val(),o[t(this).data("atxf-taxonomy")].type=t(this).data("atxf-type")}),history.pushState({url:location.href,atxf_query_vars:atxfVars.queryVars,filters_json:o},null,location.href),window.onpopstate=function(t){t.state&&l(t.state.url,!0,t.state)})})}(jQuery);